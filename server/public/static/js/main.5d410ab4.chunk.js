(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),s=function(){return r.a.createElement("ul",{className:"pxc-lang"},r.a.createElement("li",null,r.a.createElement("a",{id:"id_lang_en",href:"/"},"English")))},i=function(e){var t=e.projectName;return r.a.createElement("div",{id:"c_glb_project_name",className:"ellipsis"},r.a.createElement("span",{className:"c_glb_project_name"},"Project Name"),r.a.createElement("span",{title:""},": ",t))},o=function(){return r.a.createElement("div",{className:"pxc-brandmid"},r.a.createElement("a",{href:"http://www.phoenixcontact.com"},r.a.createElement("img",{src:"logo.gif",width:"123",height:"32",alt:"Phoenix Contact Logo",title:"Link to Phoenix Contact Homepage",className:"pxc-logo"})))},m=function(e){var t=e.projectName;return r.a.createElement("div",{id:"page-header",className:"header"},r.a.createElement("div",{id:"pxc-funcnav",className:"cf nav"},r.a.createElement(s,null),r.a.createElement("div",{className:"pxc-func",id:"id_div_login",style:{display:"none"}},"Login")),r.a.createElement("div",{className:"cf pxc-masthead"},r.a.createElement("div",{className:"pxc-r pxc-sl"},r.a.createElement("div",{className:"pxc-r pxc-sr"},r.a.createElement("div",{className:"cf pxc-bdy"},r.a.createElement(o,null),r.a.createElement("div",{className:"pxc-qsrch"},r.a.createElement("div",{id:"id_div_header_center"},r.a.createElement(i,{projectName:t}))))))))},p=function(e){var t=e.deviceName,a=e.deviceArticle,n=e.menuItemsGroups;return r.a.createElement("div",{className:"pxc-fcol",id:"id_div_mainmenu"},r.a.createElement("div",{className:"cf pxc-fcol-flt"},r.a.createElement("div",{className:"pxc-p-boxed"},r.a.createElement("div",{className:"pxc-filterpane"},r.a.createElement("a",{href:"/"},r.a.createElement("p",{className:"pxc-filtertitle centered",id:"id_div_devdesignation"},r.a.createElement("span",null,t),r.a.createElement("br",null),r.a.createElement("span",null,a)),r.a.createElement("div",{id:"id_div_devlogo"}," ")))),n.map((function(e){return r.a.createElement("div",{className:"pxc-p-boxed",key:e.id},r.a.createElement("div",{className:"c_btn_menuexpand c_btn_menu",id:e.id,style:{backgroundPosition:"-97px -692px"}}," "),r.a.createElement("div",{className:"pxc-filterpane"},r.a.createElement("p",{className:"pxc-filtertitle c_menu_title",id:"id_menu_title_security"},e.name),r.a.createElement("ul",{className:"c_menu_list",id:"id_menu_security"},e.items.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{id:e.id,href:e.href},e.name))})))))}))),r.a.createElement("div",{className:"cf pxc-fcol-flt"}))},u=a(6),d=a(7),b=a(9),f=a(8),v=a(10),E=a(1),_=a.n(E),x=a(3),h=a(2),g=function(e){var t=e.label,a=e.name,c=e.value,l=e.onChange,s=e.setTextInput,i=e.uploadUrl,o=Object(n.useRef)();return r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("span",{style:{float:"left"}},t)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"pxc-f-gradbox",style:{width:"600px"}},r.a.createElement("input",{hidden:!0,type:"file",name:a,style:{border:"1px solid #ccc",fontSize:"14pt",padding:"5px 10px",width:"400px"},onChange:function(e){if(e.target.files){var t=new FormData;t.append("file",e.target.files[0]),fetch(i,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){var t=e.filePath;s(t)}))}},ref:o}),r.a.createElement("button",{className:"pxc-btn-pa",onClick:function(e){e.preventDefault(),o.current.click()}},r.a.createElement("span",null,"Browse...")),r.a.createElement("input",{type:"text",style:{border:"1px solid #ccc",width:"500px",fontSize:"12px",padding:"5px 10px"},readOnly:"",disabled:"",value:c,onChange:l}),r.a.createElement("br",null)),r.a.createElement("br",null))},N=function(e){var t=e.label;return r.a.createElement("label",{style:{width:"146px",display:"inline-block",paddingBottom:"10px"}},t)},j=function(e){var t=e.label,a=e.placeholder,n=e.maxLength,c=e.required,l=e.name,s=e.value,i=e.onChange;return r.a.createElement("div",{className:"form_group"},r.a.createElement(N,{label:t}),r.a.createElement("input",{type:"text",name:l,value:s,onChange:i,placeholder:a,maxLength:n,required:c,style:{width:"480px"}}))},k="OK",y="WARN",O="ERROR",w=function(e){switch(e){case k:return"green";case y:return"#FFC000";case O:default:return"#ED1C24"}},C=function(e){var t=e.label,a=e.status,n=e.message;return r.a.createElement("div",null,r.a.createElement(N,{label:t}),r.a.createElement("span",{style:{height:"15px",width:"15px",backgroundColor:w(a),borderRadius:"50%",display:"inline-block",marginRight:"6px"}}," "),r.a.createElement("span",{style:{color:w(a)}},n))},S=function(e){var t=Object(n.useState)(e),a=Object(h.a)(t,2),r=a[0],c=a[1];return{value:r,setValue:c,set:function(){return c("")},bind:{value:r,onChange:function(e){c(e.target.value)}}}},L=function(e){var t=e.appConfigUrl,a=e.appStatusUrl,c=S(""),l=c.value,s=c.bind,i=c.setValue,o=S(""),m=o.value,p=o.bind,u=o.setValue,d=S(""),b=d.value,f=d.bind,v=d.setValue,E=S(""),k=E.value,y=E.bind,w=E.setValue,L=S(""),P=L.value,T=L.bind,V=L.setValue,I=S(""),R=I.value,U=I.bind,A=I.setValue,D=S(""),F=D.value,q=D.bind,B=D.setValue,z=S(""),G=z.value,J=z.bind,M=z.setValue,Q=S(""),W=Q.value,X=Q.bind,H=Q.setValue,K=Object(n.useState)({}),Y=Object(h.a)(K,2),Z=Y[0],$=Y[1];Object(n.useEffect)((function(){(function(){var e=Object(x.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:(n=e.sent)&&(i(n.brokers[0].host),u(n.brokers[0].connect_options.ssl_options.trust_store),v(n.brokers[0].connect_options.ssl_options.key_store),w(n.brokers[0].connect_options.ssl_options.private_key),V(n.brokers[0].client_name),A(n.brokers[0].publish_data[0].topics),B(n.brokers[0].subscribe_data[0].topic),M(n.data_server.port),H(n.web_server.port)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t,i,u,v,V,M,w,A,B,H]);var ee=function(){var e=Object(x.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();!function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){ee().then((function(e){$(e)})).catch((function(e){$({}),console.log(e)}))}),1e3);var te=function(e,t){return{status:e[t]&&e[t].status?e[t].status:O,message:e[t]&&e[t].message?e[t].message:"Unknown"}};return r.a.createElement("div",{className:"cf pxc-grid-4"},r.a.createElement("h1",null,r.a.createElement("span",null,"Configuration")),r.a.createElement("div",{className:"pxc-plt-ctrl"},r.a.createElement("div",{className:"pxc-p-plain"},r.a.createElement("div",{className:"pxc-f-gradbox"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;a.append("brokers_0_host",l),a.append("brokers_0_client_name",P),a.append("brokers_0_connect_options_ssl_options_trust_store",m),a.append("brokers_0_connect_options_ssl_options_key_store",b),a.append("brokers_0_connect_options_ssl_options_private_key",k),a.append("brokers_0_publish_data_0_topics_0",R),a.append("brokers_0_subscribe_data_0_topic",F),a.append("data_server_port",G),a.append("web_server_port",W),fetch(t,{method:"POST",body:a}).then((function(e){return e.json()}))}},r.a.createElement(j,Object.assign({label:"Broker address",placeholder:"",maxLength:63,name:"broker_address"},s)),r.a.createElement(C,Object.assign({label:"Status"},te(Z,"mqttClient"))),r.a.createElement(g,Object.assign({label:"Root CA",name:"root_ca_file",uploadUrl:"".concat("","/upload"),setTextInput:u},p)),r.a.createElement(g,Object.assign({label:"Certificate",name:"cert_file",uploadUrl:"".concat("","/upload"),setTextInput:v},f)),r.a.createElement(g,Object.assign({label:"Private key",name:"key_file",uploadUrl:"".concat("","/upload"),setTextInput:w},y)),r.a.createElement(j,Object.assign({label:"Cliend id",placeholder:"",maxLength:63,name:"client_id"},T)),r.a.createElement(j,Object.assign({label:"Publish to topic",placeholder:"",maxLength:63,name:"publish_topic"},U)),r.a.createElement(j,Object.assign({label:"Subscribe to topic",placeholder:"",maxLength:63,name:"subscribe_topic"},q)),r.a.createElement(j,Object.assign({label:"Data server port",placeholder:"",maxLength:63,name:"data_server_port"},J)),r.a.createElement(C,Object.assign({label:"Status"},te(Z,"dataServer"))),r.a.createElement(j,Object.assign({label:"Web server port",placeholder:"",maxLength:63,name:"web_server_port"},X)),r.a.createElement(C,Object.assign({label:"Status"},te(Z,"webServer"))),r.a.createElement("div",{className:"form_group"},r.a.createElement(N,{label:"Save configuration"}),r.a.createElement("button",{type:"submit",className:"pxc-btn-pa"},r.a.createElement("span",null,"Save"))))))))},P="".concat("","/config"),T="".concat("","/status"),V=function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(L,{appConfigUrl:P,appStatusUrl:T})}}]),t}(n.Component),I=function(){return r.a.createElement("ul",{className:"cf footer",id:"page-footer"},r.a.createElement("li",{className:"pxc-copy"},"\xa9 2019 Phoenix Contact"))},R=[{id:"configuration",name:"Configuration",href:"#",items:[{id:"mqtt",name:"MQTT",href:"#"}]}];var U=function(){return r.a.createElement("div",{id:"pxc-all"},r.a.createElement(m,{deviceName:"AXC F 2152",projectName:"MQTT client dataserver"}),r.a.createElement("div",{id:"pxc-main"},r.a.createElement("div",{className:"cf pxc-grid-2"},r.a.createElement("div",{className:"pxc-r pxc-sl"},r.a.createElement("div",{className:"pxc-r pxc-sr"},r.a.createElement("div",{className:"cf pxc-bdy"},r.a.createElement("div",{className:"cf pxc-grid-5"},r.a.createElement(p,{deviceName:"AXC F 2152",deviceArticle:"2404267",menuItemsGroups:R})),r.a.createElement(V,null)))),r.a.createElement("div",{className:"pxc-r pxc-bl"},r.a.createElement("div",{className:"pxc-r pxc-br"}))),r.a.createElement("div",{className:"cf pxc-grid-6"},r.a.createElement("div",{className:"pxc-plt-ctrl"},r.a.createElement("div",{className:"cf pxc-grid-6"},r.a.createElement(I,null))))))};l.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.5d410ab4.chunk.js.map